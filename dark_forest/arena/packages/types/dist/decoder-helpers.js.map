{"version":3,"file":"decoder-helpers.js","sourceRoot":"","sources":["../src/decoder-helpers.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,mDAAqC;AAErC,kEAAkE;AAClE,SAAgB,WAAW,CAAI,OAA4B,EAAE,GAAM;IACjE,OAAO,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;QACtD,IAAI,GAAG,KAAK,SAAS,EAAE;YACrB,OAAO,GAAG,CAAC;SACZ;aAAM;YACL,OAAO,GAAG,CAAC;SACZ;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AARD,kCAQC;AAED,SAAgB,OAAO,CAAC,OAAiC,EAAE,GAAW,EAAE,GAAW;IACjF,OAAO,QAAQ,CAAC,OAAO,CACrB,OAAO,EACP,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,mBAAmB,GAAG,QAAQ,GAAG,EAAE,CAAC,CAC3F,CAAC;AACJ,CAAC;AALD,0BAKC;AAID,SAAgB,WAAW,CAAI,OAA4B;IACzD,OAAO,QAAQ,CAAC,GAAG,CACjB,QAAQ,CAAC,OAAO,CACd,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EACvB,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,0BAA0B,CAAC,CAC1E,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAmB,CACtE,CAAC;AACJ,CAAC;AARD,kCAQC;AAID,SAAgB,WAAW,CAAI,OAA4B;IACzD,OAAO,QAAQ,CAAC,GAAG,CACjB,QAAQ,CAAC,OAAO,CACd,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EACvB,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,0BAA0B,CAAC,CAC1E,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAmB,CAChF,CAAC;AACJ,CAAC;AARD,kCAQC;AAID,SAAgB,MAAM,CAAI,OAA4B;IACpD,OAAO,QAAQ,CAAC,GAAG,CACjB,QAAQ,CAAC,OAAO,CACd,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EACvB,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,0BAA0B,CAAC,CAC1E,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAc,CACrF,CAAC;AACJ,CAAC;AARD,wBAQC;AAID,SAAgB,WAAW,CAAI,OAA4B;IACzD,OAAO,QAAQ,CAAC,GAAG,CACjB,QAAQ,CAAC,OAAO,CACd,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EACvB,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,0BAA0B,CAAC,CAC1E,EACD,CAAC,KAAK,EAAE,EAAE,CACR;QACE,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;KACS,CACtB,CAAC;AACJ,CAAC;AAlBD,kCAkBC;AAID,SAAgB,YAAY,CAAI,OAA4B;IAC1D,OAAO,QAAQ,CAAC,GAAG,CACjB,QAAQ,CAAC,OAAO,CACd,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EACvB,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE,2BAA2B,CAAC,CAC5E,EACD,CAAC,KAAK,EAAE,EAAE,CACR;QACE,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;QACR,KAAK,CAAC,CAAC,CAAC;KACU,CACvB,CAAC;AACJ,CAAC;AApBD,oCAoBC","sourcesContent":["import * as decoders from 'decoders';\n\n// Decoder helpers that will probably be refactored into a package\nexport function withDefault<A>(decoder: decoders.Decoder<A>, def: A) {\n  return decoders.map(decoders.optional(decoder), (val) => {\n    if (val === undefined) {\n      return def;\n    } else {\n      return val;\n    }\n  });\n}\n\nexport function between(decoder: decoders.Decoder<number>, min: number, max: number) {\n  return decoders.compose(\n    decoder,\n    decoders.predicate((val) => val >= min && val <= max, `Must be between ${min} and ${max}`)\n  );\n}\n\nexport type ExactArray4<A> = [A, A, A, A];\n\nexport function exactArray4<A>(decoder: decoders.Decoder<A>) {\n  return decoders.map(\n    decoders.compose(\n      decoders.array(decoder),\n      decoders.predicate((arr) => arr.length === 4, `Must be exactly 4-length`)\n    ),\n    (value) => [value[0], value[1], value[2], value[3]] as ExactArray4<A>\n  );\n}\n\nexport type ExactArray5<A> = [A, A, A, A, A];\n\nexport function exactArray5<A>(decoder: decoders.Decoder<A>) {\n  return decoders.map(\n    decoders.compose(\n      decoders.array(decoder),\n      decoders.predicate((arr) => arr.length === 5, `Must be exactly 5-length`)\n    ),\n    (value) => [value[0], value[1], value[2], value[3], value[4]] as ExactArray5<A>\n  );\n}\n\nexport type Tuple6<A> = [A, A, A, A, A, A];\n\nexport function array6<A>(decoder: decoders.Decoder<A>) {\n  return decoders.map(\n    decoders.compose(\n      decoders.array(decoder),\n      decoders.predicate((arr) => arr.length === 6, `Must be exactly 6-length`)\n    ),\n    (value) => [value[0], value[1], value[2], value[3], value[4], value[5]] as Tuple6<A>\n  );\n}\n\nexport type ExactArray8<A> = [A, A, A, A, A, A, A, A];\n\nexport function exactArray8<A>(decoder: decoders.Decoder<A>) {\n  return decoders.map(\n    decoders.compose(\n      decoders.array(decoder),\n      decoders.predicate((arr) => arr.length === 8, `Must be exactly 8-length`)\n    ),\n    (value) =>\n      [\n        value[0],\n        value[1],\n        value[2],\n        value[3],\n        value[4],\n        value[5],\n        value[6],\n        value[7],\n      ] as ExactArray8<A>\n  );\n}\n\nexport type ExactArray10<A> = [A, A, A, A, A, A, A, A, A, A];\n\nexport function exactArray10<A>(decoder: decoders.Decoder<A>) {\n  return decoders.map(\n    decoders.compose(\n      decoders.array(decoder),\n      decoders.predicate((arr) => arr.length === 10, `Must be exactly 10-length`)\n    ),\n    (value) =>\n      [\n        value[0],\n        value[1],\n        value[2],\n        value[3],\n        value[4],\n        value[5],\n        value[6],\n        value[7],\n        value[8],\n        value[9],\n      ] as ExactArray10<A>\n  );\n}\n"]}
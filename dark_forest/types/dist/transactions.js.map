{"version":3,"file":"transactions.js","sourceRoot":"","sources":["../src/transactions.ts"],"names":[],"mappings":"","sourcesContent":["import type { Contract } from 'ethers';\nimport type { LiteralUnion } from 'type-fest';\nimport type { ArtifactId, EthAddress, LocationId } from './identifier';\nimport type { WorldLocation } from './world';\n\n/**\n * @hidden\n */\nexport type ContractMethodName =\n  | 'revealLocation'\n  | 'initializePlayer'\n  | 'move'\n  | 'upgradePlanet'\n  | 'buyHat'\n  | 'transferPlanet'\n  | 'findArtifact'\n  | 'prospectPlanet'\n  | 'depositArtifact'\n  | 'withdrawArtifact'\n  | 'activateArtifact'\n  | 'deactivateArtifact'\n  | 'withdrawSilver'\n  | 'useKey'\n  | 'adminUseKey'\n  | 'addKeys'\n  | 'giveSpaceShips'\n  | 'createLobby'\n  | 'invadePlanet'\n  | 'capturePlanet'\n  | \"claimVictory\"\n  | \"createPlanet\"\n  | \"createArenaPlanet\"\n  | \"ready\"\n  | \"notReady\";\n\n\nexport type EthTxStatus =\n  | 'Init'\n  | 'Processing'\n  | 'Prioritized'\n  | 'Submit'\n  | 'Confirm'\n  | 'Fail'\n  | 'Cancel';\n\n/**\n * The intent of this type is to represent a transaction that will occur on the blockchain in a way\n * that the game understands. This should usually be accessed as a member of {@link Transaction}.\n * @hidden\n */\nexport type TxIntent = {\n  contract: Contract;\n  methodName: LiteralUnion<ContractMethodName, string>;\n  args: Promise<unknown[]>;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedInit = TxIntent & {\n  methodName: 'initializePlayer';\n  locationId: LocationId;\n  location: WorldLocation;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedMove = TxIntent & {\n  methodName: 'move';\n  from: LocationId;\n  to: LocationId;\n  forces: number;\n  silver: number;\n  abandoning: boolean;\n  artifact?: ArtifactId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedFindArtifact = TxIntent & {\n  methodName: 'findArtifact';\n  planetId: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedProspectPlanet = TxIntent & {\n  methodName: 'prospectPlanet';\n  planetId: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedPlanetTransfer = TxIntent & {\n  methodName: 'transferPlanet';\n  planetId: LocationId;\n  newOwner: EthAddress;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedUpgrade = TxIntent & {\n  methodName: 'upgradePlanet';\n  locationId: LocationId;\n  upgradeBranch: number; // 0, 1, or 2\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedBuyHat = TxIntent & {\n  methodName: 'buyHat';\n  locationId: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedDepositArtifact = TxIntent & {\n  methodName: 'depositArtifact';\n  locationId: LocationId;\n  artifactId: ArtifactId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedWithdrawArtifact = TxIntent & {\n  methodName: 'withdrawArtifact';\n  locationId: LocationId;\n  artifactId: ArtifactId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedActivateArtifact = TxIntent & {\n  methodName: 'activateArtifact';\n  locationId: LocationId;\n  artifactId: ArtifactId;\n  wormholeTo?: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedDeactivateArtifact = TxIntent & {\n  methodName: 'deactivateArtifact';\n  locationId: LocationId;\n  artifactId: ArtifactId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedWithdrawSilver = TxIntent & {\n  methodName: 'withdrawSilver';\n  locationId: LocationId;\n  amount: number;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedReveal = TxIntent & {\n  methodName: 'revealLocation';\n  locationId: LocationId;\n  location: WorldLocation;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedAddKeys = TxIntent & {\n  methodName: 'addKeys';\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedUseKey = TxIntent & {\n  methodName: 'useKey';\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedAdminUseKey = TxIntent & {\n  methodName: 'adminUseKey';\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedGetShips = TxIntent & {\n  methodName: 'giveSpaceShips';\n  locationId: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedCreateLobby = TxIntent & {\n  methodName: 'createLobby';\n};\n\n/**\n * @hidden\n */\n export type UnconfirmedStartLobby = TxIntent & {\n  methodName: 'start';\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedInvadePlanet = TxIntent & {\n  methodName: 'invadePlanet';\n  locationId: LocationId;\n};\n\n/**\n * @hidden\n */\nexport type UnconfirmedCapturePlanet = TxIntent & {\n  methodName: 'capturePlanet';\n  locationId: LocationId;\n};\n/**\n * @hidden\n */\n export declare type UnconfirmedClaimVictory = TxIntent & {\n  methodName: 'claimVictory';\n};\n/**\n * @hidden\n */\n export declare type UnconfirmedCreateArenaPlanet = TxIntent & {\n  methodName: 'createArenaPlanet';\n};\n\n/**\n * @hidden\n */\n export declare type UnconfirmedReady = TxIntent & {\n  methodName: 'ready';\n};\n\n/**\n * @hidden\n */\n export declare type UnconfirmedNotReady = TxIntent & {\n  methodName: 'notReady';\n};\n\n"]}